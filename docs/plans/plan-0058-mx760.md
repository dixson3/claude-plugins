# Fix stale beads-cli references in v3.0.0 plugin

## Context

The v3.0.0 migration (Plan 0056) removed the `beads-cli` (`bd`) dependency, replacing it with a file-based task system. The core implementation is complete — `plugin-preflight.sh`, `yf-config.sh`, hooks, and tests are all correct and pass. However:

1. **Stale plugin cache**: The cached copy at `~/.claude/plugins/cache/d3-claude-marketplace/yf/3.0.0/` contains pre-v3.0.0 code that still calls `yf_bd_available()` (which no longer exists), causing the preflight to fail at runtime with "command not found" errors.
2. **Residual `bead` terminology** in 3 source files that were missed during the v3.0.0 migration.

The cache staleness is the root cause of the session startup errors. The terminology fixes are cleanup from an incomplete migration pass.

## Changes

### 1. Fix `plugin_setup/SKILL.md` — remove beads-cli dependency check section
**File**: `plugins/yf/skills/plugin_setup/SKILL.md`

Remove the "Beads CLI Dependency Check" section (the block that checks for `bd` and tells the user to install beads-cli). The v3.0.0 plugin only requires `jq`, which the preflight script already checks.

### 2. Fix `plan_execute/SKILL.md` — rename `parent_bead` to `parent_task`
**File**: `plugins/yf/skills/plan_execute/SKILL.md` (line 92)

Change:
```
/yf:swarm_run formula:<formula-name> feature:"<task title>" parent_bead:<task-id>
```
To:
```
/yf:swarm_run formula:<formula-name> feature:"<task title>" parent_task:<task-id>
```

### 3. Fix `plan_pump/SKILL.md` — rename `parent_bead` to `parent_task`
**File**: `plugins/yf/skills/plan_pump/SKILL.md` (line 106)

Same change as above.

### 4. Fix `yf_issue_triage.md` — rename `source_beads` to `source_tasks`
**File**: `plugins/yf/agents/yf_issue_triage.md` (lines 50, 61)

Change `source_beads` to `source_tasks` in both the description text and JSON example.

### 5. Refresh the plugin cache
After committing, the user needs to refresh their plugin cache so the runtime copy matches the source. This is an operational step (reinstall the plugin or clear the cache).

## Files Modified

| File | Change |
|------|--------|
| `plugins/yf/skills/plugin_setup/SKILL.md` | Remove beads-cli dependency check section |
| `plugins/yf/skills/plan_execute/SKILL.md` | `parent_bead` → `parent_task` (line 92) |
| `plugins/yf/skills/plan_pump/SKILL.md` | `parent_bead` → `parent_task` (line 106) |
| `plugins/yf/agents/yf_issue_triage.md` | `source_beads` → `source_tasks` (lines 50, 61) |

## Not changing

- **Historical plan docs** (`docs/plans/plan-29.md`, `docs/plans/plan-35.md`) — these are historical records and should not be retroactively edited.
- **Legitimate documentation comments** in `plugin-preflight.sh` (line 118), `yf-tasks.sh` (line 4), `DEVELOPERS.md` (line 220) — these correctly describe what was removed/replaced.

## Verification

```bash
# 1. Run unit tests
bash tests/run-tests.sh --unit-only --scenarios tests/scenarios/unit-preflight.yaml
bash tests/run-tests.sh --unit-only --scenarios tests/scenarios/unit-preflight-setup.yaml
bash tests/run-tests.sh --unit-only --scenarios tests/scenarios/unit-preflight-disabled.yaml

# 2. Verify no functional beads references remain in active code
grep -rn 'parent_bead\|source_beads\|yf_bd_available\|beads-cli' \
  plugins/yf/skills/ plugins/yf/agents/ plugins/yf/hooks/ plugins/yf/scripts/ plugins/yf/rules/ \
  --include='*.md' --include='*.sh' \
  | grep -v '# .*removed\|# .*Replaces\|# .*legacy'
# Expected: zero results

# 3. Refresh cache (operational)
# Reinstall the plugin or clear ~/.claude/plugins/cache/d3-claude-marketplace/yf/
```
