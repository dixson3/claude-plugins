# Diary Entry: Plan 44 -- Strengthen Chronicle Worthiness Detection

**Date**: 2026-02-17 22:45
**Topics**: chronicle-worthiness, plan:44, swarm-dispatch, agent-protocol
**Chronicle IDs**: yf-9px, yf-x05

## Summary

Implemented Plan 44 to address a persistent gap in chronicle capture during plan execution: important events were consistently being missed because the detection criteria were too vague and subagents never saw the chronicle rules.

The plan identified four root causes: (1) Rule 5.3's categories like "significant progress" gave agents no actionable triggers, (2) subagents and swarm agents never loaded Rule 5.3 since rules only load into the main agent context, (3) decision-making skills like `engineer_reconcile`, `engineer_update`, `swarm_qualify`, and `plan_intake` produced high-value verdicts but never created chronicle beads, and (4) formula chronicle flags in `swarm_dispatch` Step 6c existed but no formula actually used them.

The solution replaced vague categories with a concrete 3-tier taxonomy:
- **Auto-capture**: Events that always create a chronicle bead (verdicts at gates, spec mutations, failure-before-recovery)
- **Agent-initiated**: Events where the agent creates a chronicle based on protocol instructions (swarm steps, plan adjustments)
- **Advisory**: Operator-facing suggestions (the existing Rule 5.3 advisory behavior, now explicitly scoped)

Rule 5.3 was rewritten with this taxonomy and actionable trigger definitions tied to detection methods rather than subjective judgment. Chronicle steps were added to 5 skills that produce high-value context: `engineer_reconcile`, `engineer_update`, `swarm_qualify`, `plan_intake`, and `plan_execute`. Formula chronicle flags were enabled on 5 formulas to activate per-step chronicle capture during swarm execution.

To address the subagent visibility gap, a Chronicle Protocol section was added to all write-capable agents and a Chronicle Signal section was added to read-only agents. The `swarm_dispatch` skill was updated for CHRONICLE-SIGNAL handling, ensuring that even agents that cannot create beads can signal chronicle-worthy events back to the dispatch loop.

The plan started with 8 beads. Specification entries added: REQ-038 (chronicle worthiness detection), FS-043 (3-tier taxonomy), UC-038 (chronicle detection use case), TODO-030 (validation). A bug in `plan-prune.sh` was also fixed -- it was passing an invalid `--reason` flag to `bd delete`.

## Decisions

- The 3-tier taxonomy (auto-capture, agent-initiated, advisory) was chosen over a flat list of triggers to clearly delineate responsibility: some events are too important to leave to judgment, others require agent context, and some remain advisory for the operator.
- Read-only agents received a lighter-weight "Chronicle Signal" protocol (flagging events for the dispatch loop) rather than full chronicle creation capability, respecting their tool constraints.
- The `plan-prune.sh` bug fix was included in this plan since it was discovered during implementation and was a one-line fix.

## Next Steps

- [ ] TODO-030: Validate chronicle capture rates in a real multi-plan session to confirm the taxonomy produces better coverage
- [ ] Monitor for chronicle bead volume -- the auto-capture tier may produce more beads than before, requiring diary consolidation to handle higher throughput

---
*Generated by chronicler from 2 chronicle beads*
