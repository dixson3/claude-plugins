# Diary Entry: Plan 44 -- Strengthen Chronicle Worthiness Detection

**Date**: 2026-02-17 22:45
**Operator**: James Dixson
**Topics**: chronicle-worthiness, plan:44, swarm-dispatch, agent-protocol
**Chronicle IDs**: yf-9px, yf-x05

## Summary

We had been losing important context during plan execution -- significant events were slipping through the chronicle net because the detection criteria were too vague and, critically, subagents never saw the chronicle rules at all. Plan 44 set out to close that gap.

The investigation uncovered four root causes. Rule 5.3's categories like "significant progress" gave agents nothing actionable to trigger on. Subagents and swarm agents never loaded Rule 5.3 since rules only inject into the main agent context. Decision-making skills like `engineer_reconcile`, `engineer_update`, `swarm_qualify`, and `plan_intake` produced high-value verdicts but never captured them as chronicle beads. And the formula chronicle flags in `swarm_dispatch` Step 6c existed on paper but no formula actually used them.

We replaced the vague categories with a concrete three-tier taxonomy. Auto-capture events -- verdicts at gates, spec mutations, failure-before-recovery -- always create a chronicle bead with no judgment required. Agent-initiated events let the agent decide based on protocol instructions embedded in its definition. Advisory events remain as operator-facing suggestions, now explicitly scoped as the lightest tier. Rule 5.3 was rewritten around this taxonomy with detection methods tied to concrete triggers rather than subjective assessment.

To propagate chronicle awareness beyond the main agent, we added a Chronicle Protocol section to all write-capable agents and a lighter-weight Chronicle Signal section to read-only agents. The signal approach respects tool constraints -- read-only agents flag events for the dispatch loop rather than trying to create beads they cannot write. We updated `swarm_dispatch` for CHRONICLE-SIGNAL handling and enabled formula chronicle flags on five formulas.

Chronicle steps were added to five skills that produce high-value context: `engineer_reconcile`, `engineer_update`, `swarm_qualify`, `plan_intake`, and `plan_execute`. Specification entries REQ-038, FS-043, UC-038, and TODO-030 were added. Along the way, we fixed a bug in `plan-prune.sh` that was passing an invalid `--reason` flag to `bd delete`.

## Decisions

- The 3-tier taxonomy (auto-capture, agent-initiated, advisory) was chosen over a flat list of triggers to clearly delineate responsibility: some events are too important to leave to judgment, others require agent context, and some remain advisory for the operator.
- Read-only agents received a lighter-weight "Chronicle Signal" protocol (flagging events for the dispatch loop) rather than full chronicle creation capability, respecting their tool constraints.
- The `plan-prune.sh` bug fix was included in this plan since it was discovered during implementation and was a one-line fix.

## Next Steps

- [ ] TODO-030: Validate chronicle capture rates in a real multi-plan session to confirm the taxonomy produces better coverage
- [ ] Monitor for chronicle bead volume -- the auto-capture tier may produce more beads than before, requiring diary consolidation to handle higher throughput

---
*Generated by chronicler from 2 chronicle beads*
