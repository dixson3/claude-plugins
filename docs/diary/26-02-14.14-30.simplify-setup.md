# Diary Entry: Simplify Setup -- Always-On Chronicler & Archivist

**Date**: 2026-02-14 14:30
**Topics**: setup, configuration, simplification
**Chronicle IDs**: marketplace-2w9

## Summary

Plan 33 removed the chronicler and archivist feature toggles from the yf plugin. Both features were always enabled in practice -- toggling them off created untested code paths that added maintenance burden without real value. The setup skill was rewritten to be zero-question (no `AskUserQuestion` calls), making initial configuration fully automatic.

The implementation touched the full vertical: `yf_is_chronicler_on()` and `yf_is_archivist_on()` were removed from the config library, feature guard conditionals were stripped from 4 hooks and 5 scripts, and approximately 80 lines of feature-toggle logic were removed from preflight. A config pruning step was added so that old configurations with `chronicler_enabled`/`archivist_enabled` keys are automatically cleaned during preflight -- no manual migration needed.

The test suite was cleaned in parallel: 3 obsolete test files were deleted, guard test cases were removed from 11 files, and a new pruning test was added. All 477 tests passed after the changes. The net effect was a reduction of 593 lines (256 added, 849 removed).

## Decisions

- **Always-on over configurable** -- the toggle served no real purpose since both features were recommended-on by default, and the conditional branches they guarded were effectively dead code
- **Zero-question setup** -- removing the two toggle questions meant setup had no remaining questions, so `AskUserQuestion` was dropped entirely from the setup skill
- **Automatic config pruning** -- rather than requiring users to manually edit their config files, preflight silently removes the obsolete keys on next run

## Next Steps

- [ ] Verify config pruning works on an existing installation with old toggle keys
- [ ] Update CHANGELOG.md with v2.16.0 entry if not already done

---
*Generated by chronicler from 1 chronicle bead*
