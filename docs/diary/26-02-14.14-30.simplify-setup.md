# Diary Entry: Simplify Setup -- Always-On Chronicler & Archivist

**Date**: 2026-02-14 14:30
**Operator**: James Dixson
**Topics**: setup, configuration, simplification
**Chronicle IDs**: marketplace-2w9

## Summary

We had been carrying feature toggles for the chronicler and archivist since their introduction, but in practice both features were always enabled. James pointed out that toggling them off created untested code paths adding maintenance burden without real value -- nobody was actually disabling these features, and the conditional branches they guarded were effectively dead code. Plan 33 removed those toggles entirely.

The implementation touched the full vertical of the plugin. We removed `yf_is_chronicler_on()` and `yf_is_archivist_on()` from the config library, stripped feature guard conditionals from 4 hooks and 5 scripts, and deleted approximately 80 lines of feature-toggle logic from preflight. With the two toggle questions gone, the setup skill had no remaining questions at all, so we dropped `AskUserQuestion` entirely -- making initial configuration fully automatic and zero-question.

Rather than requiring users to manually edit their config files to remove the obsolete `chronicler_enabled` and `archivist_enabled` keys, we added a config pruning step to preflight that silently cleans old configurations on next run. The test suite was cleaned in parallel: 3 obsolete test files were deleted, guard test cases were removed from 11 files, and a new pruning test was added. All 477 tests passed after the changes, with a net reduction of 593 lines (256 added, 849 removed). The session demonstrated a pattern we would return to in later plans -- simplification through removal rather than addition.

## Decisions

- **Always-on over configurable** -- the toggle served no real purpose since both features were recommended-on by default, and the conditional branches they guarded were effectively dead code
- **Zero-question setup** -- removing the two toggle questions meant setup had no remaining questions, so `AskUserQuestion` was dropped entirely from the setup skill
- **Automatic config pruning** -- rather than requiring users to manually edit their config files, preflight silently removes the obsolete keys on next run

## Next Steps

- [ ] Verify config pruning works on an existing installation with old toggle keys
- [ ] Update CHANGELOG.md with v2.16.0 entry if not already done

---
*Generated by chronicler from 1 chronicle bead*
