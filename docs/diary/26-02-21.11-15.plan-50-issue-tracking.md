# Diary Entry: Plan 50 — Plugin Issue Reporting & Project Issue Tracking

**Date**: 2026-02-21 11:15
**Operator**: James Dixson
**Topics**: feature, planning, implementation
**Chronicle IDs**: yf-1zx, yf-bu2, yf-oro, yf-qji, yf-auc

## Summary

We had three open GitHub issues (#2, #16, #31) all pointing at the same gap: the yf plugin had no way to capture, triage, or submit issues -- either against itself or against the user's project. James wanted a dual-track system where plugin issues and project issues flow through distinct paths that can never cross-contaminate. Plan 50 delivered both tracks end-to-end in a single session.

The foundation is a tracker abstraction layer built from two new scripts, `tracker-detect.sh` and `tracker-api.sh`, providing a uniform interface across GitHub, GitLab, and file-based backends. On top of that abstraction, we built the project issue track to mirror the existing capture-then-process pattern used by chronicles and archives: issues are staged as `ys:issue` beads via `/yf:issue_capture`, then batch-processed through the new `yf_issue_triage` agent before submission via `/yf:issue_process`. The plugin issue track is simpler -- `/yf:plugin_issue` files directly against the plugin repo without staging.

James was emphatic about the separation between the two tracks, so we implemented Rule 1.5 as hard enforcement for issue disambiguation. Plugin issues and project issues can never cross-route; each skill guards against misrouting and redirects to the correct destination when it detects a mismatch. On the advisory side, Rule 5.6 suggests `/yf:issue_capture` proactively during planning, design, implementation, and testing -- but never suggests `/yf:plugin_issue`, which remains exclusively manually initiated.

The implementation also included a rename of the existing `/yf:setup` to `/yf:plugin_setup`, folding the old "Core" capability into the new `plugin` prefix across roughly 25 active files. We chose bash 3.2-compatible parameter expansion over `sed -E` for URL slug parsing after discovering macOS bash 3.2 does not support extended regex with sed. The session produced 6 new skills, 1 new agent, 2 new scripts, 4 config accessors, 2 new rules, pre-push advisory integration, and 22 new unit test cases. We bumped from 2.25.0 to 2.26.0.

## Decisions

- Merged the existing "Core" capability (just `setup`) into the new `plugin` prefix, renaming `/yf:setup` to `/yf:plugin_setup` across ~25 active files. Historical docs left as-is.
- Used bash 3.2-compatible parameter expansion (`${url%.git}`, `${url##*host:}`) instead of `sed -E` for URL slug parsing, after discovering macOS bash 3.2 doesn't support extended regex with sed.
- Added a dedicated `yf_issue_triage` agent for batch processing (mirrors `yf_chronicle_diary` pattern) rather than inline skill logic, because issue processing requires judgment on duplicates and cross-referencing.
- Implemented Rule 1.5 (hard enforcement) for issue disambiguation — plugin issues and project issues can never cross-route.
- Rule 5.6 (advisory) suggests `/yf:issue_capture` proactively but never suggests `/yf:plugin_issue` — plugin issue reporting is exclusively manually initiated.

## Deliverables

- 6 new skills: `plugin_issue`, `issue_capture`, `issue_process`, `issue_disable`, `issue_list`, `issue_plan`
- 1 new agent: `yf_issue_triage`
- 2 new scripts: `tracker-detect.sh`, `tracker-api.sh`
- 4 new config accessors in `yf-config.sh`
- 2 new rules (1.5 disambiguation, 5.6 issue worthiness)
- Pre-push advisory for staged `ys:issue` beads
- 22 new unit test cases across 3 test files
- Version bump: 2.25.0 → 2.26.0

## Next Steps

- [ ] Verify tracker detection in a GitLab-hosted project
- [ ] End-to-end test: `/yf:issue_capture` → `/yf:issue_process` with real GitHub submission
- [ ] Address pre-existing test failure in swarm qualify (GitHub #32)
- [ ] Consider adding Linear/Jira backends in follow-up

---
*Generated by chronicler from 5 chronicle beads*
