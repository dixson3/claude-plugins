# Diary Entry: Engineer Capability v2.17.0 -- Specification Synthesis

**Date**: 2026-02-14 18:00
**Topics**: feature, planning, engineer, specifications
**Chronicle IDs**: marketplace-3tv, marketplace-e7e

## Summary

Plan 34 introduced the Engineer capability as the fifth major capability of the yf plugin, bringing specification artifact synthesis and maintenance to the workflow. The plan started with 26 tasks across the full implementation scope and completed all of them in a single session.

The capability adds automatic synthesis and maintenance of three specification artifact types: PRD (Product Requirements Document), EDD (Engineering Design Document), and Implementation Guides, along with a TODO register. Four new skills were created -- `engineer_analyze_project` for initial project analysis, `engineer_update` for spec generation and updates, `engineer_reconcile` for drift detection between specs and implementation, and `engineer_suggest_updates` for recommending spec refreshes after code changes. A single read-only agent (`yf_engineer_synthesizer`) handles all spec types, following the established pattern where the agent returns JSON and the calling skill writes files.

Three new rules integrate the Engineer into the existing lifecycle: `engineer-reconcile-on-plan` triggers reconciliation during the auto-chain sequence (step 1.5, between plan save and beads creation), `watch-for-spec-drift` monitors for divergence between specs and implementation during normal work, and `engineer-suggest-on-completion` recommends spec updates when plan execution finishes. The plan completion report rule was extended with a Section 7 for specification status.

The implementation modified 14 existing files across the plugin. The preflight manifest gained 3 new rules and 3 new artifact directories (`docs/specifications/`, `EDD/`, `IG/`). The code gate was updated to exempt `docs/specifications/*` from plan-gate restrictions. The plugin version was bumped to 2.17.0. Seven new test cases were added in `unit-engineer.yaml`, and existing swarm qualification tests were updated to reflect the new version and artifact counts. All 486 tests passed.

## Decisions

- **Advisory by default, configurable to blocking** -- reconciliation mode is controlled via `reconciliation_mode` in `.yoshiko-flow/config.json`, defaulting to advisory so spec drift warnings do not block execution
- **No specs means no enforcement** -- projects that do not generate specification artifacts pay zero overhead; the rules and reconciliation are no-ops without existing spec files
- **Single agent for all spec types** -- rather than separate agents per artifact type, one `yf_engineer_synthesizer` agent handles PRD, EDD, and IG synthesis using templates embedded in the skills
- **Synthesizer returns JSON, skill writes files** -- follows the same delegation pattern established by `archive_process`, keeping file I/O in the skill layer
- **Single watch rule for all spec drift** -- one rule (`watch-for-spec-drift`) monitors PRD, EDD, and IG divergence rather than having separate watchers per type

## Next Steps

- [ ] Verify reconciliation behavior on a project with existing specs

---
*Generated by chronicler from 2 chronicle beads*
