# Diary Entry: v2.27.0 and v2.28.0 Releases

**Date**: 2026-02-22
**Operator**: James Dixson
**Topics**: release, infrastructure, prompt-quality, worktree, swarm
**Chronicle IDs**: yf-8al, yf-bk6, yf-fug

## Summary

We shipped two major releases in rapid succession, each addressing a different dimension of the plugin's maturity. The pairing was deliberate: v2.27.0 laid the infrastructure groundwork for parallel execution, and v2.28.0 immediately followed with a quality pass over the text that agents actually consume.

Version 2.27.0 tackled the collision and isolation problems that arise when multiple agents work in parallel worktrees. We replaced sequential bead ID generation with hash-based generation (base36, 5-character) via `plugins/yf/scripts/yf-id.sh`, eliminating the collision risk that sequential IDs created across concurrent worktrees. We introduced epic worktree lifecycle skills (`/yf:worktree_create` and `/yf:worktree_land`) backed by `plugins/yf/scripts/worktree-ops.sh`, and enabled swarm write-agents to run in isolated worktrees with automatic merge-back and conflict resolution via `plugins/yf/scripts/swarm-worktree.sh`. Rule 1.6 was added for worktree lifecycle enforcement, and the config accessor layer in `yf-config.sh` was extended. Several existing scripts -- `exit-plan-gate.sh`, `spec-sanity-check.sh`, and `tracker-api.sh` -- were updated for hash-based IDs. We also archived a research spike on worktree concurrency and ID collision in `docs/research/`.

Version 2.28.0 turned inward. James directed a prompt quality review across the entire plugin. We merged the standalone `yf-worktree-lifecycle.md` into `plugins/yf/rules/yf-rules.md` as section 1.6 and tightened the advisory monitoring sections. All 12 agents were compressed by roughly 30% in token count -- Personality sections, motivational framing, and redundant Tools/Error Handling/Chronicle blocks were stripped or consolidated. The top 6 skills received deep optimization, and the remaining 33 got a lighter pass, yielding about 18% total reduction. We added a Prompt Text Quality review rule to `CLAUDE.md` to ensure future edits maintain this standard, and created `plugins/yf/agents/yf_regression_check.md` for regression checking. The plan document lives at `docs/plans/plan-5e3qn.md`.

## Decisions

- **Hash-based over sequential IDs**: Base36 5-character hashes eliminate collision risk in parallel worktree environments without requiring coordination between agents.
- **Worktree lifecycle as skills (not raw git)**: Wrapping git worktree operations in skills (`worktree_create`, `worktree_land`) ensures beads redirect, validation, rebasing, and cleanup happen atomically.
- **30% agent compression**: Removing non-behavioral prose (Personality, motivational framing) from agents reduces token overhead without changing agent behavior.
- **Prompt quality as a CLAUDE.md rule**: Embedding the review checklist at the project level ensures all future agent/skill edits are reviewed for concision before commit.

---
*Generated by chronicler from 3 chronicle beads*
