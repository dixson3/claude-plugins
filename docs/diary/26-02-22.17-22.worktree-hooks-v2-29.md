# Diary Entry: WorktreeCreate/WorktreeRemove Hooks Implementation (v2.29.0)

**Date**: 2026-02-22
**Operator**: James Dixson
**Topics**: implementation, worktree, hooks, release
**Chronicle IDs**: yf-xeb

## Summary

Since v2.27.0, yf had its own worktree lifecycle skills — `/yf:worktree_create` and `/yf:worktree_land` — but Claude Code's native `isolation: "worktree"` on Task tool calls bypassed them entirely. Swarm agents spinning up in worktrees got bare git checkouts with no beads redirect, no config inheritance, and no cleanup on teardown. James directed the implementation of WorktreeCreate and WorktreeRemove hooks to bridge this gap, completing the worktree integration that had been half-finished for three releases.

The WorktreeCreate hook fires when Claude Code creates an implicit worktree and sets up the beads redirect so the new worktree shares the parent's bead database. The WorktreeRemove hook handles cleanup when the worktree is torn down, ensuring no orphaned state leaks back. Both hooks are registered in `plugin.json` under the new hook event types that Claude Code added for exactly this use case.

The work was straightforward but had to be precise — a hook that fails silently is worse than no hook at all, since it creates the illusion of integration. We added test coverage and documentation alongside the implementation, and shipped it as v2.29.0.

---
*Generated by chronicler from 1 chronicle bead*
