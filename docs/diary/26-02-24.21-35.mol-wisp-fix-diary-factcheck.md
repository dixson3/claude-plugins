# Diary Entry: Plan 0061 — Mol Wisp Bug Fix, Diary Corrections, and Fact-Checking

**Date**: 2026-02-24
**Operator**: James Dixson
**Topics**: bugfix, diary-accuracy, chronicle-diary, mol-wisp, plan:0061-k62y7
**Chronicle IDs**: chron-0001-ftgc0, chron-0001-c4gjq, chron-0001-i2m6w

## Summary

Plan 0060's qualification review had exposed a quiet failure in the swarm machinery: `yft_mol_wisp()` was producing molecules with empty step arrays and `formula: "unknown"`, despite receiving valid formula files. The root cause turned out to be a `jq` pipeline subtlety — the `|| echo "[]"` fallback on the steps extraction sat outside the subshell scope, so when `jq` failed silently, `steps_json` ended up as an empty string rather than `"[]"`. That empty string then broke `--argjson steps ""` in the downstream `jq -n` call, and the entire molecule JSON came out malformed. The fix was straightforward: validate the formula JSON immediately after reading it, switch to `jq -c` for compact output that survives `--argjson` passing reliably, and add an explicit empty-string guard with a proper `"[]"` default.

While investigating that bug, James flagged two diary entries with fabricated details — a `brew install dixson3/tap/beads-cli` homebrew tap that never existed (the correct command was `brew install beads`), and an entry that attributed its work to Plan 47 when the content clearly described Plan 42's activation gate changes. The Plan 47 references were corrected to Plan 42 across the title, topics, and body of `docs/diary/26-02-18.beads-plugin-removal.md`, and a "chronicle beads" typo in the footer was fixed to "chronicle entries".

These inaccuracies pointed to a systemic gap: the `yf_chronicle_diary` agent had narrative writing guidelines but no verification step. We added Step 4.5 (Fact-Check Entries) to the agent, requiring it to verify plan references against actual plan files, file paths against `git ls-files`, CLI commands against the codebase, and version numbers against `CHANGELOG.md`. Unverifiable claims must be rewritten or flagged with `<!-- UNVERIFIED -->` comments. All 860 unit tests passed after the changes.

## Decisions

- The fact-check was added as an inline step in the existing diary agent rather than spawning a separate verification agent, keeping dispatch overhead minimal for a step that runs once per diary generation.
- Unverifiable claims are flagged with HTML comments rather than removed outright, giving the operator visibility into what couldn't be confirmed.

## Next Steps

- [ ] Monitor future diary entries for fact-check effectiveness
- [ ] Consider adding a similar verification step to archive processing

---
*Generated by chronicler from 3 chronicle entries*
